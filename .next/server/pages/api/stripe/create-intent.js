(()=>{var e={};e.id=288,e.ids=[288],e.modules={145:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6090:e=>{"use strict";e.exports=import("stripe")},6249:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},3401:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{config:()=>d,default:()=>u,routeModule:()=>l});var a=r(1802),s=r(7153),i=r(6249),c=r(9341),o=e([c]);c=(o.then?(await o)():o)[0];let u=(0,i.l)(c,"default"),d=(0,i.l)(c,"config"),l=new a.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/stripe/create-intent",pathname:"/api/stripe/create-intent",bundlePath:"",filename:""},userland:c});n()}catch(e){n(e)}})},4528:()=>{throw Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError: \n  \x1b[31mx\x1b[0m Expected ',', got 'string literal ($(git rev-parse --show-toplevel), \"$(git rev-parse --show-toplevel)\")'\n   ,-[\x1b[36;1;4m/workspaces/https-natureswaysoil.com-/lib/cart.ts\x1b[0m:1:1]\n \x1b[2m1\x1b[0m |  (cd \"$(git rev-parse --show-toplevel)\" && git apply --3way <<'EOF' \n   : \x1b[31;1m     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\x1b[0m\n \x1b[2m2\x1b[0m | diff --git a/lib/cart.ts b/lib/cart.ts\n \x1b[2m3\x1b[0m | index c46ef77cdbf13f4f3c9e7c668a89411953c91d75..2f770394c3fcade8bc0cc0a46113c3961a3b0071 100644\n \x1b[2m4\x1b[0m | --- a/lib/cart.ts\n   `----\n\n\nCaused by:\n    Syntax Error")},9341:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{default:()=>c});var a=r(6090),s=r(4528),i=e([a]);let o=new(a=(i.then?(await i)():i)[0]).default(process.env.STRIPE_SECRET_KEY||"");async function c(e,t){let{slug:r="",qty:n="1"}=e.query,a=(0,s.getProduct)(String(r));if(!a){t.status(404).json({error:"Product not found"});return}let i=Number(n);try{let e=await o.paymentIntents.create({amount:Math.round(100*a.price*i),currency:"usd",automatic_payment_methods:{enabled:!0},metadata:{product:a.slug,quantity:i}});t.status(200).json({clientSecret:e.client_secret})}catch(e){t.status(500).json({error:e.message})}}n()}catch(e){n(e)}})},7153:(e,t)=>{"use strict";var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},1802:(e,t,r)=>{"use strict";e.exports=r(145)}};var t=require("../../../webpack-api-runtime.js");t.C(e);var r=t(t.s=3401);module.exports=r})();